/*** Rules of Thumb for Responsive Units ***/
// font-size: rem
// padding:   em
// margin:    em
// widths:    em or pct (pixels can be okay)

// Fonts
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap')
@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500&display=swap')
//@import url('https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700&display=swap')
@import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400&display=swap')
$font-stack: 'Noto Sans', 'IBM Plex Sans', 'Roboto', sans-serif

// Colors
$color-primary: #0068d5
$color-primary-dark: #003fa3
$color-primary-light: #5f95ff
$color-primary-lighter: #69a4ff
$color-primary-lighter-er: #c3deff
$color-primary-lightest: #e6f2ff
$color-on-primary: #f5f5f5
$color-on-primary-light: #121212
$color-on-primary-dark: #f5f5f5
$color-on-primary-dark-alt: #f0f0f0

$color-brown1: #D79922
$color-brown2: #BC986A
$color-brown3: #907163
$color-brown4: #7E685A
$color-brown5: #4F4A41
$color-brown6: #844D36
$color-brown7: #935614
$color-brown8: #dbb37e

$color-0: #979AA0
$color-1: #c7c1ab
$color-2: #ecece8
$color-3: #f7ebdd
$color-4: #dbb37e
$color-5: #935614
$color-light-alt: #D1D7E0
$color-background: #F8F8F8
$color-lightest: #F2F2F2

$color-tooltip-background: #282c34
$color-tooltip-text: #EEEEEE

$color-secondary: #ccc
$color-on-background: #121212
$color-on-light: #241933
$color-background-darker-1: #eee
$color-background-darker-2: #ccc
$color-background-darker-3: #aaa
$color-danger: #B81F11
$color-danger-light: #d78f8c
$color-danger-dark: #8C180D
$color-on-danger: #f5f5f5
$color-on-danger-light: #121212
$color-on-danger-dark: #f5f5f5

$color-primary-complementary: #d56e00
$color-primary-analogous-1: #00d1d5
$color-primary-analogous-2: #0400d5
$color-primary-triadic-1: #6e00d5
$color-primary-triadic-2: #d50067

// Page Layout
$header-height: 3rem
$footer-height: $header-height - 1rem
$app-max-width: 1200px

// Debugging
$border1: 1px solid black
$border2: 1px solid red
$border3: 1px solid lightblue
$border4: 1px solid darkgreen


/*** Globals ***/
*
  box-sizing: border-box

body
  font-family: $font-stack
  font-variant: slashed-zero
  font-size: 16px
  color: $color-on-background
  line-height: 1.3

h1, h2, h3, h4
  margin: 0
  white-space: nowrap
  text-align: left
  cursor: default

h1
  font-size: 2.75rem
  font-weight: 700
  margin: 0 0 0.1em
  white-space: initial

h2
  font-size: 1.7rem
  font-weight: 400

h3
  font-size: 1.3rem
  font-weight: 400

p
  font-size: 1rem
  font-weight: 400
  line-height: 1em


/*** Inputs ***/

input[type="text"],
input[type="number"],
select
  background: $color-background
  color: $color-on-background
  border: 1px solid $color-0
  border-radius: 0.2em
  height: 2em
  margin: 0

input[type="text"]
  padding: 0.5em 0.5em

input[type="text"]:placeholder-shown
  font-style: italic

input[type="number"]
  width: max-content + 0.5em
  padding: 0 0.5em

select
  padding: 0 0.2em


/*** Buttons ***/

.btn
  height: 2.5rem
  text-align: center
  margin: 0
  padding: 0.35rem 0.9rem
  border-radius: 5px
  background: none
  border: none

.btn-edit-mode
  height: 2.25rem
  width: 2.5rem
  padding: 0 0.1rem 0.2rem 0.3rem
  background: #eeeeee
  .icon-button
    height: 1em
    filter: brightness(0) saturate(100%) invert(54%) sepia(7%) saturate(0%) hue-rotate(226deg) brightness(92%) contrast(83%)
    // SVG color conversion tool: https://codepen.io/sosuke/pen/Pjoqqp
    //  -> Prefix with _brightness(0) saturate(100%)_ to ensure all SVGs start completely black.
    //  -> Now we can set SVG color to #808080 gray.
.btn-edit-mode:hover,
.btn-edit-mode:focus
  border: 1px solid #808080
.btn-edit-mode:active
  background: #ddd
  border: 1px solid #808080

.btn-clipboard
  background: green

.btn-reset,
.btn-cancel
  background: #c82333
  color: #ffffff
  margin: 0 4px

.btn-reset
  padding: 0 8px
  width: 4.5em

.btn-replacement-toggle
  width: max-content
  background: lightgray
  color: rgb(33, 47, 41)
  border: none
.btn-replacement-toggle:hover,
.btn-replacement-toggle:focus
  background: rgb(90, 98, 104)

.btn-save,
.btn-submit
  background: $color-5
  color: $color-lightest

.btn-save:hover,
.btn-save:focus,
.btn-submit:hover,
.btn-submit:focus
  background: $color-4
  color: $color-on-light

.btn-delete
  border: none
  border-radius: 10px
  height: 1rem
  width: 1rem
  margin: 0
  display: flex
  align-content: center
  justify-content: center
.btn-delete:hover,
.btn-delete:focus
  background: black


/*** Page-Level ***/

.app-container
  background: $color-background
  margin: 0 auto
  font-style: normal
  max-width: 1200px
  text-align: center

.navbar-custom-container,
.content-container,
.footer-container
  max-width: 1200px
  margin: 0 auto

.content-container
  margin: 0.65em

.loading-icon-title
  height: 2em

.page-title
  padding-bottom: 0.15em

.page-title-border
  border-bottom: 1px solid gray

.difficulty-icon
  height: 21px
  position: relative
  margin: 0 5px

.difficulty-icon .difficulty-tooltip-text
  width: auto
  background-color: $color-tooltip-background
  color: $color-tooltip-text
  text-align: center
  padding: 5px 0
  border-radius: 6px
  position: absolute
  z-index: 1

.difficulty-icon:hover .difficulty-tooltip-text
  display: block

.icon-delete
  background-color: $color-background
  height: 100%

.tooltipz2
  //TODO: Adjust when Bootstrap is removed
  visibility: hidden
  background: $color-tooltip-background
  color: $color-tooltip-text

.navbar-custom-link
  font-size: larger
  color: rgba(255,255,255,0.5)

.navbar-custom-link-dropdown
  font-size: medium

.icon-ext-link
  display: inline
  max-height: 0.55rem
  max-width: 0.55rem
  margin-left: 4px
  filter: brightness(0) saturate(100%) invert(54%) sepia(7%) saturate(0%) hue-rotate(226deg) brightness(92%) contrast(83%)

.icon-transparent
  background: $color-background


/*** Add Recipe/Step ***/

.add-recipe-container,
.add-step-container
  background: $color-1
  padding: 1em
  text-align: left
  margin-top: 0.5em
  border-radius: 3px
  min-width: 280px
  .btn-add
    background: $color-2
    border: 1px solid $color-1
    margin: 0
    //width: 250px
    //box-shadow: 3px 3px 1px rgba(0,0,0,0.14)
    font-size: 1.25rem
    font-weight: 400
    white-space: nowrap
    height: 2em
    width: 9em
    display: flex
    align-items: center
    justify-content: center
    .icon-add
      background: $color-2
      margin-right: 0.2em
      height: 1.1em

.add-recipe-form,
.add-step-form
  background: $color-2
  border-radius: 10px
  margin: 0.5em 0
  padding: 1em
  display: flex
  flex-direction: column
  align-items: flex-start
  justify-content: center
  .button-group
    //display: flex
    //justify-content: flex-end
    text-align: left
    .btn-cancel
      display: none
  .add-recipe-form-group,
  .add-step-form-group
    padding: 0.25em
    display: flex
    align-items: center
    //width: 60%
    min-width: 500px
    //grid-template: 1fr / minmax(140px, 10%) minmax(200px, 30%)
    .add-recipe-form-label
      margin: auto 0.25em auto
      min-width: 140px
      width: 20%
    .add-recipe-form-input-group
      white-space: nowrap
      min-width: 180px
      width: 80%
      .input-picklist
        min-width: calc(70% - 61px)
        width: 70%
        margin-right: 0.3em
      .difficulty-icon
        min-width: 50px
    .add-step-form-label
      margin: auto 0.25em auto
      min-width: 110px
      width: 10%
    .add-step-form-input-group
      white-space: nowrap
      min-width: 200px
      width: 90%
    .then-wait-helper-text
      //font-style: italic
      opacity: 0.6
      margin-left: 0.25em
      margin-right: 0.5em
    #action
      max-width: 250px

@media (max-width: 599px)
  .add-recipe-container,
  .add-step-container
    padding: 0.25em
  .add-recipe-form,
  .add-step-form
    .add-recipe-form-group,
    .add-step-form-group
      width: 100%
      min-width: unset
      .add-recipe-form-label
        width: 15%
        min-width: 120px
      .add-step-form-label
        width: 8%
        min-width: 100px

@media (max-width: 494px)
  .add-recipe-form,
  .add-step-form
    padding: 0.5em
    .add-recipe-form-group,
    .add-step-form-group
      flex-direction: column
      justify-content: flex-start
      align-items: flex-start
      .add-recipe-form-label,
      .add-step-form-label
        margin-left: 0
        margin-bottom: 0.3em
        width: 100%
      .add-recipe-form-input-group,
      .add-step-form-input-group
        width: 100%

@media (max-width: 399px)
  .content-container
    margin-left: 0.25em
    margin-right: 0.25em
  .add-recipe-form,
  .add-step-form
    margin: 0.15em 0
    padding: 0.15em
    .add-recipe-form-group,
    .add-step-form-group
      .btn-submit
        margin-top: 0.3em
        width: 100%


/*** Recipe Attributes ***/

.recipe-attributes-container
  margin: 0.5em 0 1em
  display: grid
  grid-template: 1fr / repeat(2, minmax(min-content, 250px))
  grid-gap: 0.5em 3em
  //grid-column-gap: 2em
  cursor: default
  //margin: 5px auto
  //alignment-baseline: baseline
  .recipe-attribute
    //border: 1px dashed green
    display: grid
    grid-template: 1fr / 1fr 4fr
    text-align: left
    .attribute-label,
    .attribute-value
      //border: 1px solid brown
      display: flex
      align-items: flex-end  //align text to use the same baseline
      width: min-content
      min-width: 95px
      white-space: nowrap
      vertical-align: baseline
    .attribute-label
      flex-grow: 0
      margin-right: 1em
      font-size: 1.15rem
      font-weight: 700
      //color: #282c34
    .attribute-value
      flex-grow: 1
      white-space: nowrap
      font-size: 1.1rem
      //border: 1px black solid
  .attr-author,
  .attr-source
    .attribute-label
      margin-right: 0.5em

@media (max-width: 699px)
  .recipe-attributes-container
    grid-gap: 0.5em 1.25em

@media (max-width: 569px)
  .recipe-attributes-container
    grid-template: repeat(4, 1fr) / 1fr
    grid-gap: 0.2em
    .attr-author,
    .attr-source
      .attribute-label
        margin-right: 1em
    .attribute-label,
    .attribute-value
      flex-grow: 0


/*** Start/Finish Controls ***/

.start-finish-container
  background: rgba(199,193,171,0.3)
  border-radius: 5px
  padding: 0.5em
  width: max-content
  display: flex
  align-items: center
  justify-content: flex-start
  //height: max-content
  //width: max-content
  white-space: nowrap
  .btn-save
    height: 2em
    background: $color-5
    color: $color-lightest
    line-height: 1
  .btn-save:hover,
  .btn-save:focus
    background: $color-4
    color: $color-on-light
  .start-finish-datepicker
    z-index: 10
    margin: 0 0.25em
  .start-finish-toggle-container
    .btn-start-finish-toggle
      border: none
      border-bottom: 1px dotted gray
      border-radius: 0
      margin: 0
      padding: 0 .5px
      height: min-content
      width: max-content
      text-align: left
      display: inline
    .btn-start-finish-toggle:hover,
    .btn-start-finish-toggle:focus
      border: none
      border-bottom: 1px solid gray

  // Tooltip contents
  .start-finish-toggle-container::before
    display: none
    position: absolute
    content: attr(title)
    z-index: 2
    background: rgba(0, 0, 0, 0.8)
    color: white
    font-size: 0.8em
    border-radius: 5px
    width: max-content
    padding: 2px 6px
    white-space: nowrap
    transform: translateY(147%)

  .start-finish-toggle-container:hover::before,
  .start-finish-toggle-container:hover::after
    display: inline-block

  // Arrow for the tooltip
  .start-finish-toggle-container::after
    display: none
    position: absolute
    content: ""
    z-index: 1
    width: 0
    height: 0
    border: 5px solid transparent
    border-bottom-color: rgba(0, 0, 0, 0.8)
    transform: translateY(200%) translateX(-400%)


/*** Text Conversion Page ***/

.text-conversion-arrow
  width: 5%

.text-conversion-list-item
  font-family: CMUTypewriterTextRegular, monospace
  padding: 0 2px
  background-color: inherit
  white-space: pre
/* https://developer.mozilla.org/en-US/docs/Web/CSS/white-space */

.dataTables_scrollHeadInner
  padding-right: 0

.button-clipboard-row
  margin: 0 3px
  padding: 0 8px
  width: max-content
  height: min-content

.toggle-replacements
  text-align: left

.text-conversion-list-container
  padding: 5px 5px
  text-align: left

.text-conversion-accordion
  text-align: left
  cursor: pointer

.clipboard-confirmation
  visibility: hidden
  margin: 4px 0 0 8px
  font-size: initial
  color: forestgreen

.clipboard-confirmation-enter
  visibility: visible
  opacity: 1

.clipboard-confirmation-enter-active
  opacity: 0
  transition: opacity 3000ms

.clipboard-confirmation-exit
  opacity: 1

.clipboard-confirmation-exit-active
  opacity: 0
  transition: opacity 1000ms


/*** Footer ***/

.footer-container
  font-size: 0.8rem
  margin: 2em 1em 1em
  cursor: default
  text-align: left
  .icon-bread
    margin: 0 0.5em
    height: 1em

@media (prefers-reduced-motion: no-preference)
  .icon-bread
    animation: bread-icon-spin infinite 20s linear

@keyframes bread-icon-spin
  from
    transform: rotate(0deg)
  to
    transform: rotate(360deg)
